schema image_text_search {
  document image_text_search {
    field image_file_name type string {
      indexing: attribute | summary
    }
    field image_features type tensor<float>(x[512]) {
      indexing: attribute | index
      attribute {
        distance-metric: angular
      }
    }
    field text_content type string {
      indexing: index | summary
      index: enable-bm25
    }
  }

  rank-profile image_text_similarity {
    first-phase {
      expression: closeness(image_features) + bm25(text_content)
    }
  }
}
